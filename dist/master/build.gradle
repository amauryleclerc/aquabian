apply plugin: 'application'

dependencies {
    compile project(':master')
    compile project(':ui')
    compile("org.springframework.boot:spring-boot-starter-web")
	// https://mvnrepository.com/artifact/org.postgresql/postgresql
	compile group: 'org.postgresql', name: 'postgresql', version: '42.2.2'


}
mainClassName = 'fr.aquabian.master.AquabianMasterApp'

applicationName = 'aquabian-dist-master'

applicationDefaultJvmArgs = ["-Xms512m", "-Xmx2048m"]

startScripts {
    classpath = files('src/dist/etc')
    classpath += files('$APP_HOME/lib/*')
    doLast {
        def windowsScriptFile = file getWindowsScript()
        def unixScriptFile    = file getUnixScript()
        windowsScriptFile.text = windowsScriptFile.text.replace('%APP_HOME%\\lib\\etc', '%APP_HOME%\\etc')
        unixScriptFile.text  = unixScriptFile.text.replace('$APP_HOME/lib/etc', '$APP_HOME/etc')
    }
}